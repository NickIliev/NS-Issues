"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var page_1 = require("ui/page");
// import { TextField } from "ui/text-view";
var MobileFormatterComponent = (function () {
    function MobileFormatterComponent(_page) {
        this._page = _page;
        this.numberChange = new core_1.EventEmitter();
    }
    MobileFormatterComponent.prototype.ngOnInit = function () {
        if (this.numbervalue != "") {
            this.p1 = this.numbervalue.charAt(1);
            this.p2 = this.numbervalue.charAt(2);
            this.p3 = this.numbervalue.charAt(3);
            this.p4 = this.numbervalue.charAt(5);
            this.p5 = this.numbervalue.charAt(6);
            this.p6 = this.numbervalue.charAt(7);
            this.p7 = this.numbervalue.charAt(9);
            this.p8 = this.numbervalue.charAt(10);
            this.p9 = this.numbervalue.charAt(11);
            this.p10 = this.numbervalue.charAt(12);
            this.updatedNumber = '(' + this.p1 + this.p2 + this.p3 + ')' + this.p4 + this.p5 + this.p6 + '-' + this.p7 + this.p8 + this.p9 + this.p10;
        }
    };
    MobileFormatterComponent.prototype.onMobileNoValueChange = function (newValue, oldValue, currentField, nextField, bindingVar, domId) {
        var tfield = this._page.getViewById(domId);
        if (newValue.toString().length > 1) {
            var targetValue = newValue.replace(oldValue, "");
            this[bindingVar] = targetValue;
            tfield.text = targetValue;
        }
        if (nextField && newValue) {
            nextField.focus();
        }
        this.updatedNumber = '(' + this.p1 + this.p2 + this.p3 + ')' + this.p4 + this.p5 + this.p6 + '-' + this.p7 + this.p8 + this.p9 + this.p10;
        this.numberChange.emit(this.updatedNumber);
    };
    MobileFormatterComponent.prototype.clearDate = function () {
        var _this = this;
        this.p1 = "";
        this.p2 = "";
        this.p3 = "";
        this.p4 = "";
        this.p5 = "";
        this.p6 = "";
        this.p7 = "";
        this.p8 = "";
        this.p9 = "";
        this.p10 = "";
        setTimeout(function () {
            var txtfld1 = _this.p1Field.nativeElement;
            txtfld1.focus();
        }, 1000);
    };
    return MobileFormatterComponent;
}());
__decorate([
    core_1.Input(),
    __metadata("design:type", String)
], MobileFormatterComponent.prototype, "numbervalue", void 0);
__decorate([
    core_1.ViewChild("p1Field"),
    __metadata("design:type", core_1.ElementRef)
], MobileFormatterComponent.prototype, "p1Field", void 0);
__decorate([
    core_1.Output(),
    __metadata("design:type", Object)
], MobileFormatterComponent.prototype, "numberChange", void 0);
MobileFormatterComponent = __decorate([
    core_1.Component({
        selector: "mobile-formmater-control",
        moduleId: module.id,
        templateUrl: 'mobileformatter.component.html',
        styleUrls: ["mobileformatter.css"]
    }),
    __metadata("design:paramtypes", [page_1.Page])
], MobileFormatterComponent);
exports.MobileFormatterComponent = MobileFormatterComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibW9iaWxlZm9ybWF0dGVyLmNvbXBvbmVudC5qcyIsInNvdXJjZVJvb3QiOiIiLCJzb3VyY2VzIjpbIm1vYmlsZWZvcm1hdHRlci5jb21wb25lbnQudHMiXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6Ijs7QUFBQSxzQ0FBc0c7QUFDdEcsZ0NBQStCO0FBRS9CLDRDQUE0QztBQVM1QyxJQUFhLHdCQUF3QjtJQW9CbkMsa0NBQW9CLEtBQVc7UUFBWCxVQUFLLEdBQUwsS0FBSyxDQUFNO1FBRnJCLGlCQUFZLEdBQUcsSUFBSSxtQkFBWSxFQUFFLENBQUM7SUFHNUMsQ0FBQztJQUVELDJDQUFRLEdBQVI7UUFDRSxFQUFFLENBQUEsQ0FBQyxJQUFJLENBQUMsV0FBVyxJQUFFLEVBQUUsQ0FBQyxDQUFBLENBQUM7WUFDekIsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ3JDLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNyQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxXQUFXLENBQUMsTUFBTSxDQUFDLEVBQUUsQ0FBQyxDQUFDO1lBQ3RDLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFdBQVcsQ0FBQyxNQUFNLENBQUMsRUFBRSxDQUFDLENBQUM7WUFDdEMsSUFBSSxDQUFDLEdBQUcsR0FBRyxJQUFJLENBQUMsV0FBVyxDQUFDLE1BQU0sQ0FBQyxFQUFFLENBQUMsQ0FBQztZQUV2QyxJQUFJLENBQUMsYUFBYSxHQUFHLEdBQUcsR0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUksSUFBSSxDQUFDLEVBQUUsR0FBRSxHQUFHLEdBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRSxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUUsR0FBRyxHQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDaEksQ0FBQztJQUVILENBQUM7SUFFTSx3REFBcUIsR0FBNUIsVUFBNkIsUUFBUSxFQUFFLFFBQVEsRUFBRSxZQUFZLEVBQUUsU0FBUyxFQUFFLFVBQVUsRUFBRSxLQUFLO1FBQ3pGLElBQUksTUFBTSxHQUF5QixJQUFJLENBQUMsS0FBSyxDQUFDLFdBQVcsQ0FBQyxLQUFLLENBQUMsQ0FBQztRQUNqRSxFQUFFLENBQUMsQ0FBQyxRQUFRLENBQUMsUUFBUSxFQUFFLENBQUMsTUFBTSxHQUFHLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFFbkMsSUFBSSxXQUFXLEdBQUcsUUFBUSxDQUFDLE9BQU8sQ0FBQyxRQUFRLEVBQUUsRUFBRSxDQUFDLENBQUM7WUFFakQsSUFBSSxDQUFDLFVBQVUsQ0FBQyxHQUFHLFdBQVcsQ0FBQztZQUMvQixNQUFNLENBQUMsSUFBSSxHQUFHLFdBQVcsQ0FBQztRQUM1QixDQUFDO1FBQ0QsRUFBRSxDQUFDLENBQUMsU0FBUyxJQUFJLFFBQVEsQ0FBQyxDQUFDLENBQUM7WUFDMUIsU0FBUyxDQUFDLEtBQUssRUFBRSxDQUFDO1FBQ3BCLENBQUM7UUFDQSxJQUFJLENBQUMsYUFBYSxHQUFHLEdBQUcsR0FBQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUksSUFBSSxDQUFDLEVBQUUsR0FBRSxHQUFHLEdBQUUsSUFBSSxDQUFDLEVBQUUsR0FBRSxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxFQUFFLEdBQUUsR0FBRyxHQUFFLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLEVBQUUsR0FBQyxJQUFJLENBQUMsRUFBRSxHQUFDLElBQUksQ0FBQyxHQUFHLENBQUM7UUFDakksSUFBSSxDQUFDLFlBQVksQ0FBQyxJQUFJLENBQUMsSUFBSSxDQUFDLGFBQWEsQ0FBQyxDQUFDO0lBQzdDLENBQUM7SUFDTSw0Q0FBUyxHQUFoQjtRQUFBLGlCQWVDO1FBZEMsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLEVBQUUsR0FBRyxFQUFFLENBQUM7UUFDYixJQUFJLENBQUMsRUFBRSxHQUFHLEVBQUUsQ0FBQztRQUNiLElBQUksQ0FBQyxFQUFFLEdBQUcsRUFBRSxDQUFDO1FBQ2IsSUFBSSxDQUFDLEdBQUcsR0FBRyxFQUFFLENBQUM7UUFDZCxVQUFVLENBQUM7WUFDUCxJQUFJLE9BQU8sR0FBYyxLQUFJLENBQUMsT0FBTyxDQUFDLGFBQWEsQ0FBQztZQUNwRCxPQUFPLENBQUMsS0FBSyxFQUFFLENBQUM7UUFDaEIsQ0FBQyxFQUFFLElBQUksQ0FBQyxDQUFDO0lBQ2YsQ0FBQztJQUNELCtCQUFDO0FBQUQsQ0FBQyxBQXhFSCxJQXdFRztBQXRFUTtJQUFSLFlBQUssRUFBRTs7NkRBQXFCO0FBY047SUFBckIsZ0JBQVMsQ0FBQyxTQUFTLENBQUM7OEJBQVUsaUJBQVU7eURBQUM7QUFFakM7SUFBVCxhQUFNLEVBQUU7OzhEQUFtQztBQWxCakMsd0JBQXdCO0lBUHBDLGdCQUFTLENBQUM7UUFFVCxRQUFRLEVBQUUsMEJBQTBCO1FBQ25DLFFBQVEsRUFBRSxNQUFNLENBQUMsRUFBRTtRQUNwQixXQUFXLEVBQUUsZ0NBQWdDO1FBQzdDLFNBQVMsRUFBRSxDQUFDLHFCQUFxQixDQUFDO0tBQ25DLENBQUM7cUNBcUIyQixXQUFJO0dBcEJwQix3QkFBd0IsQ0F3RWxDO0FBeEVVLDREQUF3QiIsInNvdXJjZXNDb250ZW50IjpbImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XHJcbmltcG9ydCB7IFBhZ2UgfSBmcm9tIFwidWkvcGFnZVwiO1xyXG5pbXBvcnQgeyBUZXh0RmllbGQgfSBmcm9tIFwidWkvdGV4dC1maWVsZFwiO1xyXG4vLyBpbXBvcnQgeyBUZXh0RmllbGQgfSBmcm9tIFwidWkvdGV4dC12aWV3XCI7XHJcblxyXG5AQ29tcG9uZW50KHtcclxuXHJcbiAgc2VsZWN0b3I6IFwibW9iaWxlLWZvcm1tYXRlci1jb250cm9sXCIsXHJcbiAgIG1vZHVsZUlkOiBtb2R1bGUuaWQsXHJcbiAgdGVtcGxhdGVVcmw6ICdtb2JpbGVmb3JtYXR0ZXIuY29tcG9uZW50Lmh0bWwnLFxyXG4gIHN0eWxlVXJsczogW1wibW9iaWxlZm9ybWF0dGVyLmNzc1wiXVxyXG59KVxyXG5leHBvcnQgY2xhc3MgTW9iaWxlRm9ybWF0dGVyQ29tcG9uZW50IHtcclxuXHJcbiAgQElucHV0KCkgbnVtYmVydmFsdWU6IHN0cmluZztcclxuXHJcbiAgcHVibGljIHAxO1xyXG4gIHB1YmxpYyBwMjtcclxuICBwdWJsaWMgcDM7XHJcbiAgcHVibGljIHA0O1xyXG4gIHB1YmxpYyBwNTtcclxuICBwdWJsaWMgcDY7XHJcbiAgcHVibGljIHA3O1xyXG4gIHB1YmxpYyBwODtcclxuICBwdWJsaWMgcDk7XHJcbiAgcHVibGljIHAxMDtcclxuXHJcbiAgcHVibGljIHVwZGF0ZWROdW1iZXI7XHJcbiAgIEBWaWV3Q2hpbGQoXCJwMUZpZWxkXCIpIHAxRmllbGQ6IEVsZW1lbnRSZWY7XHJcblxyXG4gIEBPdXRwdXQoKSBudW1iZXJDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XHJcblxyXG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgX3BhZ2U6IFBhZ2UpIHtcclxuICB9XHJcblxyXG4gIG5nT25Jbml0KCkge1xyXG4gICAgaWYodGhpcy5udW1iZXJ2YWx1ZSE9XCJcIil7XHJcbiAgICB0aGlzLnAxID0gdGhpcy5udW1iZXJ2YWx1ZS5jaGFyQXQoMSk7XHJcbiAgICB0aGlzLnAyID0gdGhpcy5udW1iZXJ2YWx1ZS5jaGFyQXQoMik7XHJcbiAgICB0aGlzLnAzID0gdGhpcy5udW1iZXJ2YWx1ZS5jaGFyQXQoMyk7XHJcbiAgICB0aGlzLnA0ID0gdGhpcy5udW1iZXJ2YWx1ZS5jaGFyQXQoNSk7XHJcbiAgICB0aGlzLnA1ID0gdGhpcy5udW1iZXJ2YWx1ZS5jaGFyQXQoNik7XHJcbiAgICB0aGlzLnA2ID0gdGhpcy5udW1iZXJ2YWx1ZS5jaGFyQXQoNyk7XHJcbiAgICB0aGlzLnA3ID0gdGhpcy5udW1iZXJ2YWx1ZS5jaGFyQXQoOSk7XHJcbiAgICB0aGlzLnA4ID0gdGhpcy5udW1iZXJ2YWx1ZS5jaGFyQXQoMTApO1xyXG4gICAgdGhpcy5wOSA9IHRoaXMubnVtYmVydmFsdWUuY2hhckF0KDExKTtcclxuICAgIHRoaXMucDEwID0gdGhpcy5udW1iZXJ2YWx1ZS5jaGFyQXQoMTIpO1xyXG5cclxuICAgIHRoaXMudXBkYXRlZE51bWJlciA9ICcoJyt0aGlzLnAxICsgdGhpcy5wMiArICB0aGlzLnAzICsnKScrIHRoaXMucDQrIHRoaXMucDUgKyB0aGlzLnA2ICsnLScrIHRoaXMucDcgKyB0aGlzLnA4K3RoaXMucDkrdGhpcy5wMTA7XHJcbiAgICB9XHJcbiAgICBcclxuICB9XHJcblxyXG4gIHB1YmxpYyBvbk1vYmlsZU5vVmFsdWVDaGFuZ2UobmV3VmFsdWUsIG9sZFZhbHVlLCBjdXJyZW50RmllbGQsIG5leHRGaWVsZCwgYmluZGluZ1ZhciwgZG9tSWQpIHtcclxuICAgIHZhciB0ZmllbGQ6IFRleHRGaWVsZCA9IDxUZXh0RmllbGQ+dGhpcy5fcGFnZS5nZXRWaWV3QnlJZChkb21JZCk7XHJcbiAgICBpZiAobmV3VmFsdWUudG9TdHJpbmcoKS5sZW5ndGggPiAxKSB7XHJcblx0XHJcbiAgICAgIGxldCB0YXJnZXRWYWx1ZSA9IG5ld1ZhbHVlLnJlcGxhY2Uob2xkVmFsdWUsIFwiXCIpO1xyXG5cdFxyXG4gICAgICB0aGlzW2JpbmRpbmdWYXJdID0gdGFyZ2V0VmFsdWU7XHJcbiAgICAgIHRmaWVsZC50ZXh0ID0gdGFyZ2V0VmFsdWU7XHJcbiAgICB9XHJcbiAgICBpZiAobmV4dEZpZWxkICYmIG5ld1ZhbHVlKSB7XHJcbiAgICAgIG5leHRGaWVsZC5mb2N1cygpO1xyXG4gICAgfVxyXG4gICAgIHRoaXMudXBkYXRlZE51bWJlciA9ICcoJyt0aGlzLnAxICsgdGhpcy5wMiArICB0aGlzLnAzICsnKScrIHRoaXMucDQrIHRoaXMucDUgKyB0aGlzLnA2ICsnLScrIHRoaXMucDcgKyB0aGlzLnA4K3RoaXMucDkrdGhpcy5wMTA7XHJcbiAgICB0aGlzLm51bWJlckNoYW5nZS5lbWl0KHRoaXMudXBkYXRlZE51bWJlcik7XHJcbiAgfVxyXG4gIHB1YmxpYyBjbGVhckRhdGUoKXtcclxuICAgIHRoaXMucDEgPSBcIlwiO1xyXG4gICAgdGhpcy5wMiA9IFwiXCI7XHJcbiAgICB0aGlzLnAzID0gXCJcIjtcclxuICAgIHRoaXMucDQgPSBcIlwiO1xyXG4gICAgdGhpcy5wNSA9IFwiXCI7XHJcbiAgICB0aGlzLnA2ID0gXCJcIjtcclxuICAgIHRoaXMucDcgPSBcIlwiO1xyXG4gICAgdGhpcy5wOCA9IFwiXCI7XHJcbiAgICB0aGlzLnA5ID0gXCJcIjtcclxuICAgIHRoaXMucDEwID0gXCJcIjtcclxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xyXG4gICAgICAgIGxldCB0eHRmbGQxID0gPFRleHRGaWVsZD50aGlzLnAxRmllbGQubmF0aXZlRWxlbWVudDtcclxuICAgICAgICB0eHRmbGQxLmZvY3VzKCk7IFxyXG4gICAgICAgIH0sIDEwMDApO1xyXG4gIH1cclxuICB9XHJcbiJdfQ==