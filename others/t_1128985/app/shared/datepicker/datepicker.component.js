"use strict";
Object.defineProperty(exports, "__esModule", { value: true });
var core_1 = require("@angular/core");
var page_1 = require("ui/page");
// import { TextField } from "ui/text-view";
var DatePickerComponent = (function () {
    function DatePickerComponent(_page) {
        this._page = _page;
        this.dateChange = new core_1.EventEmitter();
    }
    DatePickerComponent.prototype.ngOnInit = function () {
        if (this.datevalue !== "") {
            this.m1 = this.datevalue.charAt(0);
            this.m2 = this.datevalue.charAt(1);
            this.d1 = this.datevalue.charAt(3);
            this.d2 = this.datevalue.charAt(4);
            this.y1 = this.datevalue.charAt(6);
            this.y2 = this.datevalue.charAt(7);
            this.y3 = this.datevalue.charAt(8);
            this.y4 = this.datevalue.charAt(9);
            this.updatedDate = this.m1 + this.m2 + '/' + this.d1 + this.d2 + '/' + this.y1 + this.y2 + this.y3 + this.y4;
        }
    };
    DatePickerComponent.prototype.onDateValueChange = function (newValue, oldValue, currentField, nextField, bindingVar, domId) {
        var tfield = this._page.getViewById(domId);
        if (newValue.toString().length > 1) {
            var targetValue = newValue.replace(oldValue, "");
            this[bindingVar] = targetValue;
            tfield.text = targetValue;
        }
        if (nextField && newValue) {
            nextField.focus();
        }
        this.updatedDate = this.m1 + this.m2 + '/' + this.d1 + this.d2 + '/' + this.y1 + this.y2 + this.y3 + this.y4;
        this.dateChange.emit(this.updatedDate);
    };
    DatePickerComponent.prototype.clearDate = function () {
        var _this = this;
        this.m1 = "";
        this.m2 = "";
        this.d1 = "";
        this.d2 = "";
        this.y1 = "";
        this.y2 = "";
        this.y3 = "";
        this.y4 = "";
        setTimeout(function () {
            var txtfld1 = _this.m1Field.nativeElement;
            txtfld1.focus();
        }, 1000);
    };
    return DatePickerComponent;
}());
__decorate([
    core_1.Input(),
    __metadata("design:type", String)
], DatePickerComponent.prototype, "datevalue", void 0);
__decorate([
    core_1.ViewChild("m1Field"),
    __metadata("design:type", core_1.ElementRef)
], DatePickerComponent.prototype, "m1Field", void 0);
__decorate([
    core_1.Output(),
    __metadata("design:type", Object)
], DatePickerComponent.prototype, "dateChange", void 0);
DatePickerComponent = __decorate([
    core_1.Component({
        selector: "date-picker-control",
        moduleId: module.id,
        templateUrl: 'datepicker.component.html',
        styleUrls: ["datepicker.css"]
    }),
    __metadata("design:paramtypes", [page_1.Page])
], DatePickerComponent);
exports.DatePickerComponent = DatePickerComponent;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiZGF0ZXBpY2tlci5jb21wb25lbnQuanMiLCJzb3VyY2VSb290IjoiIiwic291cmNlcyI6WyJkYXRlcGlja2VyLmNvbXBvbmVudC50cyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiOztBQUFBLHNDQUFzRztBQUN0RyxnQ0FBK0I7QUFFL0IsNENBQTRDO0FBUzVDLElBQWEsbUJBQW1CO0lBa0I5Qiw2QkFBb0IsS0FBVztRQUFYLFVBQUssR0FBTCxLQUFLLENBQU07UUFGckIsZUFBVSxHQUFHLElBQUksbUJBQVksRUFBRSxDQUFDO0lBRzFDLENBQUM7SUFFRCxzQ0FBUSxHQUFSO1FBQ0UsRUFBRSxDQUFBLENBQUMsSUFBSSxDQUFDLFNBQVMsS0FBRyxFQUFFLENBQUMsQ0FBQSxDQUFDO1lBQ3RCLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDckMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUMsQ0FBQztZQUNuQyxJQUFJLENBQUMsRUFBRSxHQUFHLElBQUksQ0FBQyxTQUFTLENBQUMsTUFBTSxDQUFDLENBQUMsQ0FBQyxDQUFDO1lBQ25DLElBQUksQ0FBQyxFQUFFLEdBQUcsSUFBSSxDQUFDLFNBQVMsQ0FBQyxNQUFNLENBQUMsQ0FBQyxDQUFDLENBQUM7WUFDbkMsSUFBSSxDQUFDLEVBQUUsR0FBRyxJQUFJLENBQUMsU0FBUyxDQUFDLE1BQU0sQ0FB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eyBDb21wb25lbnQsIE9uSW5pdCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBJbnB1dCwgT3V0cHV0LCBFdmVudEVtaXR0ZXIgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gXCJ1aS9wYWdlXCI7XG5pbXBvcnQgeyBUZXh0RmllbGQgfSBmcm9tIFwidWkvdGV4dC1maWVsZFwiO1xuLy8gaW1wb3J0IHsgVGV4dEZpZWxkIH0gZnJvbSBcInVpL3RleHQtdmlld1wiO1xuXG5AQ29tcG9uZW50KHtcblxuICBzZWxlY3RvcjogXCJkYXRlLXBpY2tlci1jb250cm9sXCIsXG4gICBtb2R1bGVJZDogbW9kdWxlLmlkLFxuICB0ZW1wbGF0ZVVybDogJ2RhdGVwaWNrZXIuY29tcG9uZW50Lmh0bWwnLFxuICBzdHlsZVVybHM6IFtcImRhdGVwaWNrZXIuY3NzXCJdXG59KVxuZXhwb3J0IGNsYXNzIERhdGVQaWNrZXJDb21wb25lbnQge1xuXG4gIEBJbnB1dCgpIGRhdGV2YWx1ZTogc3RyaW5nO1xuXG4gIHB1YmxpYyBtMTtcbiAgcHVibGljIG0yO1xuICBwdWJsaWMgZDE7XG4gIHB1YmxpYyBkMjtcbiAgcHVibGljIHkxO1xuICBwdWJsaWMgeTI7XG4gIHB1YmxpYyB5MztcbiAgcHVibGljIHk0O1xuXG4gIHB1YmxpYyB1cGRhdGVkRGF0ZTtcbiAgIEBWaWV3Q2hpbGQoXCJtMUZpZWxkXCIpIG0xRmllbGQ6IEVsZW1lbnRSZWY7XG5cbiAgQE91dHB1dCgpIGRhdGVDaGFuZ2UgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBfcGFnZTogUGFnZSkge1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgaWYodGhpcy5kYXRldmFsdWUhPT1cIlwiKXtcbiAgICAgIHRoaXMubTEgPSB0aGlzLmRhdGV2YWx1ZS5jaGFyQXQoMCk7XG4gICAgdGhpcy5tMiA9IHRoaXMuZGF0ZXZhbHVlLmNoYXJBdCgxKTtcbiAgICB0aGlzLmQxID0gdGhpcy5kYXRldmFsdWUuY2hhckF0KDMpO1xuICAgIHRoaXMuZDIgPSB0aGlzLmRhdGV2YWx1ZS5jaGFyQXQoNCk7XG4gICAgdGhpcy55MSA9IHRoaXMuZGF0ZXZhbHVlLmNoYXJBdCg2KTtcbiAgICB0aGlzLnkyID0gdGhpcy5kYXRldmFsdWUuY2hhckF0KDcpO1xuICAgIHRoaXMueTMgPSB0aGlzLmRhdGV2YWx1ZS5jaGFyQXQoOCk7XG4gICAgdGhpcy55NCA9IHRoaXMuZGF0ZXZhbHVlLmNoYXJBdCg5KTtcbiAgICB0aGlzLnVwZGF0ZWREYXRlID0gdGhpcy5tMSArIHRoaXMubTIgKyAnLycgKyB0aGlzLmQxICsgdGhpcy5kMiArICcvJyArIHRoaXMueTEgKyB0aGlzLnkyICsgdGhpcy55MyArIHRoaXMueTQ7XG4gICAgfVxuICAgIFxuICB9XG5cbiAgcHVibGljIG9uRGF0ZVZhbHVlQ2hhbmdlKG5ld1ZhbHVlLCBvbGRWYWx1ZSwgY3VycmVudEZpZWxkLCBuZXh0RmllbGQsIGJpbmRpbmdWYXIsIGRvbUlkKSB7XG4gICAgdmFyIHRmaWVsZDogVGV4dEZpZWxkID0gPFRleHRGaWVsZD50aGlzLl9wYWdlLmdldFZpZXdCeUlkKGRvbUlkKTtcbiAgICBpZiAobmV3VmFsdWUudG9TdHJpbmcoKS5sZW5ndGggPiAxKSB7XG5cdFxuICAgICAgbGV0IHRhcmdldFZhbHVlID0gbmV3VmFsdWUucmVwbGFjZShvbGRWYWx1ZSwgXCJcIik7XG5cdFxuICAgICAgdGhpc1tiaW5kaW5nVmFyXSA9IHRhcmdldFZhbHVlO1xuICAgICAgdGZpZWxkLnRleHQgPSB0YXJnZXRWYWx1ZTtcbiAgICB9XG4gICAgaWYgKG5leHRGaWVsZCAmJiBuZXdWYWx1ZSkge1xuICAgICAgbmV4dEZpZWxkLmZvY3VzKCk7XG4gICAgfVxuICAgIHRoaXMudXBkYXRlZERhdGUgPSB0aGlzLm0xICsgdGhpcy5tMiArICcvJyArIHRoaXMuZDEgKyB0aGlzLmQyICsgJy8nICsgdGhpcy55MSArIHRoaXMueTIgKyB0aGlzLnkzICsgdGhpcy55NDtcbiAgICB0aGlzLmRhdGVDaGFuZ2UuZW1pdCh0aGlzLnVwZGF0ZWREYXRlKTtcbiAgfVxuICBwdWJsaWMgY2xlYXJEYXRlKCl7XG4gICAgdGhpcy5tMSA9IFwiXCI7XG4gICAgdGhpcy5tMiA9IFwiXCI7XG4gICAgdGhpcy5kMSA9IFwiXCI7XG4gICAgdGhpcy5kMiA9IFwiXCI7XG4gICAgdGhpcy55MSA9IFwiXCI7XG4gICAgdGhpcy55MiA9IFwiXCI7XG4gICAgdGhpcy55MyA9IFwiXCI7XG4gICAgdGhpcy55NCA9IFwiXCI7ICAgIFxuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICBsZXQgdHh0ZmxkMSA9IDxUZXh0RmllbGQ+dGhpcy5tMUZpZWxkLm5hdGl2ZUVsZW1lbnQ7XG4gICAgICAgIHR4dGZsZDEuZm9jdXMoKTsgXG4gICAgICAgIH0sIDEwMDApO1xuICB9XG4gIH1cbiJdfQ==