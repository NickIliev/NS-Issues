"use strict";
var imageSourceModule = require("image-source");
var enums = require("ui/enums");
var fs = require("file-system");
function navigatingTo(args) {
    var page = args.object;
    var folderPath = android.os.Environment.getExternalStoragePublicDirectory(android.os.Environment.DIRECTORY_DOWNLOADS).toString();
    console.log("folderPath; " + folderPath);
    // var documents = fs.knownFolders.documents();
    // console.log("newFolderPath: " + documents);
    var fileName = 'img_' + new Date().getTime() + '.png';
    console.log("fileName: " + fileName);
    var path = fs.path.join(folderPath, fileName);
    console.log("path: " + path);
    var img = imageSourceModule.fromResource("icon");
    console.log("img: " + img);
    var saved = img.saveToFile(path, enums.ImageFormat.png);
    console.log(saved);
}
exports.navigatingTo = navigatingTo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi1wYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibWFpbi1wYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxnREFBa0Q7QUFDbEQsZ0NBQWtDO0FBQ2xDLGdDQUFrQztBQUlsQyxzQkFBNkIsSUFBZTtJQUV4QyxJQUFJLElBQUksR0FBUyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBRTdCLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLGlDQUFpQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDakksT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEdBQUcsVUFBVSxDQUFDLENBQUE7SUFFeEMsK0NBQStDO0lBQy9DLDhDQUE4QztJQUU5QyxJQUFJLFFBQVEsR0FBRyxNQUFNLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxNQUFNLENBQUM7SUFDdEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsUUFBUSxDQUFDLENBQUM7SUFFckMsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsVUFBVSxFQUFFLFFBQVEsQ0FBQyxDQUFDO0lBQzlDLE9BQU8sQ0FBQyxHQUFHLENBQUMsUUFBUSxHQUFHLElBQUksQ0FBQyxDQUFDO0lBRTdCLElBQUksR0FBRyxHQUFHLGlCQUFpQixDQUFDLFlBQVksQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUNqRCxPQUFPLENBQUMsR0FBRyxDQUFDLE9BQU8sR0FBRyxHQUFHLENBQUMsQ0FBQztJQUUzQixJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO0lBQ3hELE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUE7QUFDdEIsQ0FBQztBQXJCRCxvQ0FxQkMiLCJzb3VyY2VzQ29udGVudCI6WyJpbXBvcnQgeyBFdmVudERhdGEgfSBmcm9tICdkYXRhL29ic2VydmFibGUnO1xuaW1wb3J0IHsgUGFnZSB9IGZyb20gJ3VpL3BhZ2UnO1xuaW1wb3J0ICogYXMgaW1hZ2VTb3VyY2VNb2R1bGUgZnJvbSBcImltYWdlLXNvdXJjZVwiO1xuaW1wb3J0ICogYXMgZW51bXMgZnJvbSBcInVpL2VudW1zXCI7XG5pbXBvcnQgKiBhcyBmcyBmcm9tIFwiZmlsZS1zeXN0ZW1cIjtcblxuZGVjbGFyZSB2YXIgYW5kcm9pZDogYW55O1xuXG5leHBvcnQgZnVuY3Rpb24gbmF2aWdhdGluZ1RvKGFyZ3M6IEV2ZW50RGF0YSkge1xuXG4gICAgbGV0IHBhZ2UgPSA8UGFnZT5hcmdzLm9iamVjdDtcblxuICAgIHZhciBmb2xkZXJQYXRoID0gYW5kcm9pZC5vcy5FbnZpcm9ubWVudC5nZXRFeHRlcm5hbFN0b3JhZ2VQdWJsaWNEaXJlY3RvcnkoYW5kcm9pZC5vcy5FbnZpcm9ubWVudC5ESVJFQ1RPUllfRE9XTkxPQURTKS50b1N0cmluZygpO1xuICAgIGNvbnNvbGUubG9nKFwiZm9sZGVyUGF0aDsgXCIgKyBmb2xkZXJQYXRoKVxuXG4gICAgLy8gdmFyIGRvY3VtZW50cyA9IGZzLmtub3duRm9sZGVycy5kb2N1bWVudHMoKTtcbiAgICAvLyBjb25zb2xlLmxvZyhcIm5ld0ZvbGRlclBhdGg6IFwiICsgZG9jdW1lbnRzKTtcblxuICAgIHZhciBmaWxlTmFtZSA9ICdpbWdfJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgJy5wbmcnO1xuICAgIGNvbnNvbGUubG9nKFwiZmlsZU5hbWU6IFwiICsgZmlsZU5hbWUpO1xuXG4gICAgdmFyIHBhdGggPSBmcy5wYXRoLmpvaW4oZm9sZGVyUGF0aCwgZmlsZU5hbWUpO1xuICAgIGNvbnNvbGUubG9nKFwicGF0aDogXCIgKyBwYXRoKTtcblxuICAgIHZhciBpbWcgPSBpbWFnZVNvdXJjZU1vZHVsZS5mcm9tUmVzb3VyY2UoXCJpY29uXCIpO1xuICAgIGNvbnNvbGUubG9nKFwiaW1nOiBcIiArIGltZyk7XG5cbiAgICB2YXIgc2F2ZWQgPSBpbWcuc2F2ZVRvRmlsZShwYXRoLCBlbnVtcy5JbWFnZUZvcm1hdC5wbmcpO1xuICAgIGNvbnNvbGUubG9nKHNhdmVkKVxufSJdfQ==