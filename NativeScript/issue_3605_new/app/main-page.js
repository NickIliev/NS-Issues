"use strict";
var imageSourceModule = require("image-source");
var enums = require("ui/enums");
var fs = require("file-system");
function navigatingTo(args) {
    var page = args.object;
    var folderPath = android.os.Environment.getExternalStoragePublicDirectory(android.os.Environment.DIRECTORY_DOWNLOADS).toString();
    console.log("folderPath; " + folderPath);
    var documents = fs.knownFolders.documents();
    console.log("documents: " + documents);
    var fileName = 'img_' + new Date().getTime() + '.png';
    console.log("fileName: " + fileName);
    var path = fs.path.join(documents.path, fileName);
    console.log("path: " + path);
    var img = imageSourceModule.fromResource("icon");
    console.log("img: " + img);
    var exists = fs.File.exists(path);
    console.log(exists);
    if (!exists) {
        var saved = img.saveToFile(path, enums.ImageFormat.png);
        console.log(saved);
    }
}
exports.navigatingTo = navigatingTo;
//# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi1wYWdlLmpzIiwic291cmNlUm9vdCI6IiIsInNvdXJjZXMiOlsibWFpbi1wYWdlLnRzIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7QUFFQSxnREFBa0Q7QUFDbEQsZ0NBQWtDO0FBQ2xDLGdDQUFrQztBQUlsQyxzQkFBNkIsSUFBZTtJQUV4QyxJQUFJLElBQUksR0FBUyxJQUFJLENBQUMsTUFBTSxDQUFDO0lBRTdCLElBQUksVUFBVSxHQUFHLE9BQU8sQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLGlDQUFpQyxDQUFDLE9BQU8sQ0FBQyxFQUFFLENBQUMsV0FBVyxDQUFDLG1CQUFtQixDQUFDLENBQUMsUUFBUSxFQUFFLENBQUM7SUFDakksT0FBTyxDQUFDLEdBQUcsQ0FBQyxjQUFjLEdBQUcsVUFBVSxDQUFDLENBQUE7SUFFeEMsSUFBSSxTQUFTLEdBQUcsRUFBRSxDQUFDLFlBQVksQ0FBQyxTQUFTLEVBQUUsQ0FBQztJQUM1QyxPQUFPLENBQUMsR0FBRyxDQUFDLGFBQWEsR0FBRyxTQUFTLENBQUMsQ0FBQztJQUV2QyxJQUFJLFFBQVEsR0FBRyxNQUFNLEdBQUcsSUFBSSxJQUFJLEVBQUUsQ0FBQyxPQUFPLEVBQUUsR0FBRyxNQUFNLENBQUM7SUFDdEQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxZQUFZLEdBQUcsUUFBUSxDQUFDLENBQUM7SUFFckMsSUFBSSxJQUFJLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxJQUFJLENBQUMsU0FBUyxDQUFDLElBQUksRUFBRSxRQUFRLENBQUMsQ0FBQztJQUNsRCxPQUFPLENBQUMsR0FBRyxDQUFDLFFBQVEsR0FBRyxJQUFJLENBQUMsQ0FBQztJQUU3QixJQUFJLEdBQUcsR0FBRyxpQkFBaUIsQ0FBQyxZQUFZLENBQUMsTUFBTSxDQUFDLENBQUM7SUFDakQsT0FBTyxDQUFDLEdBQUcsQ0FBQyxPQUFPLEdBQUcsR0FBRyxDQUFDLENBQUM7SUFFM0IsSUFBSSxNQUFNLEdBQUcsRUFBRSxDQUFDLElBQUksQ0FBQyxNQUFNLENBQUMsSUFBSSxDQUFDLENBQUM7SUFDbEMsT0FBTyxDQUFDLEdBQUcsQ0FBQyxNQUFNLENBQUMsQ0FBQztJQUVwQixFQUFFLENBQUMsQ0FBQyxDQUFDLE1BQU0sQ0FBQyxDQUFDLENBQUM7UUFDVixJQUFJLEtBQUssR0FBRyxHQUFHLENBQUMsVUFBVSxDQUFDLElBQUksRUFBRSxLQUFLLENBQUMsV0FBVyxDQUFDLEdBQUcsQ0FBQyxDQUFDO1FBQ3hELE9BQU8sQ0FBQyxHQUFHLENBQUMsS0FBSyxDQUFDLENBQUM7SUFDdkIsQ0FBQztBQUNMLENBQUM7QUExQkQsb0NBMEJDIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgRXZlbnREYXRhIH0gZnJvbSAnZGF0YS9vYnNlcnZhYmxlJztcbmltcG9ydCB7IFBhZ2UgfSBmcm9tICd1aS9wYWdlJztcbmltcG9ydCAqIGFzIGltYWdlU291cmNlTW9kdWxlIGZyb20gXCJpbWFnZS1zb3VyY2VcIjtcbmltcG9ydCAqIGFzIGVudW1zIGZyb20gXCJ1aS9lbnVtc1wiO1xuaW1wb3J0ICogYXMgZnMgZnJvbSBcImZpbGUtc3lzdGVtXCI7XG5cbmRlY2xhcmUgdmFyIGFuZHJvaWQ6IGFueTtcblxuZXhwb3J0IGZ1bmN0aW9uIG5hdmlnYXRpbmdUbyhhcmdzOiBFdmVudERhdGEpIHtcblxuICAgIGxldCBwYWdlID0gPFBhZ2U+YXJncy5vYmplY3Q7XG5cbiAgICB2YXIgZm9sZGVyUGF0aCA9IGFuZHJvaWQub3MuRW52aXJvbm1lbnQuZ2V0RXh0ZXJuYWxTdG9yYWdlUHVibGljRGlyZWN0b3J5KGFuZHJvaWQub3MuRW52aXJvbm1lbnQuRElSRUNUT1JZX0RPV05MT0FEUykudG9TdHJpbmcoKTtcbiAgICBjb25zb2xlLmxvZyhcImZvbGRlclBhdGg7IFwiICsgZm9sZGVyUGF0aClcblxuICAgIHZhciBkb2N1bWVudHMgPSBmcy5rbm93bkZvbGRlcnMuZG9jdW1lbnRzKCk7XG4gICAgY29uc29sZS5sb2coXCJkb2N1bWVudHM6IFwiICsgZG9jdW1lbnRzKTtcblxuICAgIHZhciBmaWxlTmFtZSA9ICdpbWdfJyArIG5ldyBEYXRlKCkuZ2V0VGltZSgpICsgJy5wbmcnO1xuICAgIGNvbnNvbGUubG9nKFwiZmlsZU5hbWU6IFwiICsgZmlsZU5hbWUpO1xuXG4gICAgdmFyIHBhdGggPSBmcy5wYXRoLmpvaW4oZG9jdW1lbnRzLnBhdGgsIGZpbGVOYW1lKTtcbiAgICBjb25zb2xlLmxvZyhcInBhdGg6IFwiICsgcGF0aCk7XG5cbiAgICB2YXIgaW1nID0gaW1hZ2VTb3VyY2VNb2R1bGUuZnJvbVJlc291cmNlKFwiaWNvblwiKTtcbiAgICBjb25zb2xlLmxvZyhcImltZzogXCIgKyBpbWcpO1xuXG4gICAgdmFyIGV4aXN0cyA9IGZzLkZpbGUuZXhpc3RzKHBhdGgpO1xuICAgIGNvbnNvbGUubG9nKGV4aXN0cyk7XG5cbiAgICBpZiAoIWV4aXN0cykge1xuICAgICAgICB2YXIgc2F2ZWQgPSBpbWcuc2F2ZVRvRmlsZShwYXRoLCBlbnVtcy5JbWFnZUZvcm1hdC5wbmcpO1xuICAgICAgICBjb25zb2xlLmxvZyhzYXZlZCk7XG4gICAgfVxufSJdfQ==